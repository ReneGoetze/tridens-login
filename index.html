<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>TRIDENS – Secure Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html,body{
  margin:0;
  background:#000;
  height:100%;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

.stage{
  position:relative;
  width:min(520px,95vw);
  aspect-ratio:1290/1919;
  margin:4vh auto;
  overflow:hidden;
  border-radius:18px;
  box-shadow:0 30px 90px rgba(0,0,0,.7);
}

.layer{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  transition:opacity .8s ease;
}

.layer.on{ opacity:1; }

#codeUI{
  position:absolute;
  inset:0;
  pointer-events:none;
}

#codeUI.on{ pointer-events:auto; }

.code-row{
  position:absolute;
  top:45.6%;
  left:7%;
  width:86%;
  display:flex;
  justify-content:space-between;
}

.code-row input{
  width:12%;
  height:70px;
  background:transparent;
  border:none;
  font-size:34px;
  text-align:center;
  font-weight:700;
  color:#0b2a33;
  outline:none;
}

/* Hinweistext – standardmäßig unsichtbar */
.hint{
  position:absolute;
  top:54%;
  width:100%;
  text-align:center;
  color:#fff;
  font-size:16px;
  opacity:0;
  transition:opacity .4s ease;
}

.hint.on{ opacity:1; }

.denied{
  position:absolute;
  bottom:18px;
  width:100%;
  text-align:center;
  font-size:20px;
  font-weight:700;
  color:#fff;
  opacity:0;
}

.denied.on{ opacity:1; }
</style>
</head>

<body>

<div class="stage">

  <video id="login" class="layer" muted playsinline>
    <source src="LOGIN.MP4" type="video/mp4">
  </video>

  <video id="server" class="layer" muted playsinline>
    <source src="SERVER.MP4" type="video/mp4">
  </video>

  <video id="deniedVid" class="layer" muted playsinline>
    <source src="DENIED.MP4" type="video/mp4">
  </video>

  <img id="codeImg" class="layer" src="CODE.jpg">

  <div id="codeUI">
    <div class="code-row">
      <input maxlength="1"><input maxlength="1"><input maxlength="1">
      <input maxlength="1"><input maxlength="1"><input maxlength="1"><input maxlength="1">
    </div>
    <div id="hint" class="hint">Bitte geben Sie den Zugangscode ein.</div>
  </div>

  <div id="deniedText" class="denied">Zugang verweigert</div>
</div>

<script>
const login = document.getElementById('login');
const server = document.getElementById('server');
const denied = document.getElementById('deniedVid');
const codeImg = document.getElementById('codeImg');
const codeUI = document.getElementById('codeUI');
const deniedText = document.getElementById('deniedText');
const hint = document.getElementById('hint');
const inputs = document.querySelectorAll('.code-row input');

function show(el){ el.classList.add('on'); }
function hide(el){ el.classList.remove('on'); }
function clearInputs(){ inputs.forEach(i => i.value = ""); }

show(login);
login.play();

login.onended = () => {
  show(server);
  server.play();
  setTimeout(()=>hide(login),100);
};

server.onended = () => {
  hide(server);
  show(codeImg);
  codeUI.classList.add('on');
  hint.classList.add('on');     // TEXT ERST HIER
  inputs[0].focus();
};

inputs.forEach((i,idx)=>{
  i.addEventListener('input',()=>{
    if(i.value && inputs[idx+1]) inputs[idx+1].focus();
  });

  i.addEventListener('keydown',e=>{
    if(e.key==="Enter"){
      // UI & Text ausblenden
      hint.classList.remove('on');
      codeUI.classList.remove('on');
      clearInputs();

      hide(codeImg);
      show(denied);
      denied.play();
      deniedText.classList.add('on');
    }
  });
});
</script>

</body>
</html>
